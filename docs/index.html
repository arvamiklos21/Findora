<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz</title>
  <meta name="description" content="A Findora seg√≠t megtal√°lni a legjobb akci√≥kat √©s aj√°nlatokat: Amazon, J√°t√©kNet, K√§rcher, eOptika, Tchibo egy helyen." />
  <meta name="keywords" content="Findora, akci√≥, kedvezm√©ny, Amazon, J√°t√©kNet, K√§rcher, eOptika, Tchibo, olcs√≥, aj√°nlat" />

  <meta name="robots" content="index,follow,max-image-preview:large" />
  <link rel="canonical" href="https://arvamiklos21.github.io/Findora/" />
  <link rel="alternate" href="https://arvamiklos21.github.io/Findora/" hreflang="hu" />
  <meta name="google-site-verification" content="vDPKx3UXBaAFpEBO4fQXqrX8bXr6mjlogt8qUr" />
  <link rel="icon" href="assets/img/findora_mark.png" />

  <!-- OG/Twitter -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Findora" />
  <meta property="og:title" content="Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz" />
  <meta property="og:description" content="V√°logatott akci√≥k √©s aj√°nlatok magyar felhaszn√°l√≥knak. Amazon, J√°t√©kNet, K√§rcher, eOptika, Tchibo." />
  <meta property="og:url" content="https://arvamiklos21.github.io/Findora/" />
  <meta property="og:image" content="https://arvamiklos21.github.io/Findora/assets/img/findora-header.png" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Findora ‚Äì Ir√°nyt mutat a legjobb aj√°nlatokhoz" />
  <meta name="twitter:description" content="A legjobb akci√≥k √©s kuponok egy helyen. N√©zd meg a Findora v√°logat√°sait!" />
  <meta name="twitter:image" content="https://arvamiklos21.github.io/Findora/assets/img/findora-header.png" />

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "name":"Findora",
    "url":"https://arvamiklos21.github.io/Findora/",
    "description":"V√°logatott akci√≥k √©s aj√°nlatok magyar felhaszn√°l√≥knak.",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://arvamiklos21.github.io/Findora/?q={search_term_string}",
      "query-input":"required name=search_term_string"
    },
    "publisher":{
      "@type":"Organization",
      "name":"Findora",
      "logo":{"@type":"ImageObject","url":"https://arvamiklos21.github.io/Findora/assets/img/findora-header.png"}
    }
  }
  </script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Montserrat+Alternates:wght@700&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#0f2742;
      --gold:#ffd166;
      --text:#0f172a;
      --muted:#64748b;
      --card:rgba(255,255,255,0.9);
      --panel:#ffffffee;
      --border:#e2e8f0;

      --fireplace:url("https://images.unsplash.com/photo-1519682337058-a94d519337bc?w=1600&q=80&auto=format&fit=crop");
      --pine-row:url("data:image/svg+xml;utf8,<?xml version='1.0'?>\
<svg xmlns='http://www.w3.org/2000/svg' width='480' height='120' viewBox='0 0 480 120'>\
  <defs><linearGradient id='fog' x1='0' x2='0' y1='0' y2='1'>\
    <stop offset='0' stop-color='%230b1a33' stop-opacity='0.0'/>\
    <stop offset='1' stop-color='%230b1a33' stop-opacity='0.35'/>\
  </linearGradient></defs>\
  <rect width='480' height='120' fill='url(%23fog)'/>\
  <g fill='%23152a4a' opacity='0.75'>\
    <path d='M10,110 l20,-40 l20,40 z'/>\
    <path d='M60,110 l22,-44 l22,44 z'/>\
    <path d='M120,110 l18,-36 l18,36 z'/>\
    <path d='M170,110 l24,-48 l24,48 z'/>\
    <path d='M230,110 l20,-42 l20,42 z'/>\
    <path d='M290,110 l22,-44 l22,44 z'/>\
    <path d='M350,110 l18,-36 l18,36 z'/>\
    <path d='M400,110 l24,-48 l24,48 z'/>\
  </g></svg>");
    }

    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}

    body{
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 700px at 12% -10%, rgba(255,255,255,.18), transparent 60%),
        radial-gradient(900px 600px at 110% -10%, rgba(76,201,240,.10), transparent 60%),
        var(--pine-row) bottom center/900px 220px repeat-x,
        linear-gradient(180deg, #0a1830 0%, #0b203f 50%, #0e2b58 100%);
      background-attachment: fixed,fixed,fixed,fixed;
      overflow-x:hidden;
    }
    @media (max-width:640px){
      body{ background-attachment: scroll,scroll,scroll,scroll; }
    }

    .hero{
      position:relative; z-index:3; width:100%; color:#eef4ff;
      display:flex;align-items:center;justify-content:center;text-align:center;
      padding:64px 10px 26px;
      background:
        linear-gradient(180deg, rgba(6,14,28,.72) 0%, rgba(6,14,28,.58) 60%, rgba(6,14,28,.54) 100%),
        var(--fireplace) center/cover no-repeat;
      border-bottom:1px solid rgba(226,232,240,.35);
    }

    .hero-inner{max-width:1100px;width:100%; position:relative; z-index:2}
    .brand{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:8px}
    .brand img{height:44px;border-radius:12px;background:#0f2742;box-shadow:0 2px 8px rgba(2,6,23,.4)}
    .hero h1{font-size:clamp(20px,3.5vw,32px);color:#ffffff;font-weight:800;letter-spacing:.2px}
    .hero p{font-size:clamp(13px,1.7vw,16px); color:#dbe7ff}
    .dev-badge{
      position:absolute; left:12px; top:12px; z-index:4;
      background:#0b3a6a; color:#fff; padding:6px 10px; border-radius:10px;
      font-weight:700; font-size:13px; box-shadow:0 2px 6px rgba(0,0,0,.25);
    }

    .promo{
      margin:10px auto 10px;
      background:linear-gradient(90deg,rgba(255,255,255,.16),rgba(255,255,255,.22));
      color:#f6fbff;padding:8px 12px;border-radius:14px;max-width:860px;font-weight:700;
      border:1px solid rgba(255,255,255,.24);
    }

    .categories{
      display:flex;gap:8px;flex-wrap:nowrap;justify-content:center;margin:8px auto 0;
      overflow-x:auto;padding:0 6px;
    }
    .categories::-webkit-scrollbar{height:8px}
    .categories::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:999px}
    .catbtn{
      border:1px solid #dbeafe;background:#ffffffc9;border-radius:999px;padding:8px 12px;
      cursor:pointer;font-weight:700;font-size:14px;white-space:nowrap
    }
    .catbtn:hover{background:#f1f5f9}
    .catbtn.active{
      background:linear-gradient(90deg,#4cc9f0,#ffd166);
      color:#0b1220;border-color:#e2e8f0
    }

    .searchbar{display:flex;gap:8px;align-items:center;flex-wrap:wrap;justify-content:center;margin-top:8px}
    .searchbar input,.searchbar button{padding:10px;border:none;border-radius:10px;font-size:14px}
    .searchbar input{
      min-width:220px;max-width:360px;flex:1;padding-left:36px;background:#fff
        url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="%2399a1ad"><path d="M21 20l-5.6-5.6a7 7 0 10-1.4 1.4L20 21l1-1zM10 16a6 6 0 110-12 6 6 0 010 12z"/></svg>')
        no-repeat 10px center;
      background-size:18px 18px; border:1px solid #e2e8f0
    }
    .searchbar button{
      background:linear-gradient(90deg,#4cc9f0,#ffd166);
      color:#0b1220;font-weight:800;cursor:pointer;
    }
    @media (max-width:640px){
      .floating-search{
        position:fixed; right:12px; bottom:12px; z-index:50;
        background:linear-gradient(90deg,#4cc9f0,#ffd166);
        border:none; color:#0b1220; font-weight:800; border-radius:999px; padding:10px 14px; 
        box-shadow:0 10px 24px rgba(2,6,23,.22)
      }
    }

    main{max-width:1100px;margin:22px auto;padding:0 12px; position:relative; z-index:2}

    .section{
      background:var(--panel); border:1px solid rgba(226,232,240,.75); border-radius:18px;
      margin-bottom:24px; box-shadow:0 8px 20px rgba(2,6,23,.18);
      overflow:hidden;
    }
    .section h2{
      font-size:18px;padding:10px 12px;border-radius:18px 18px 0 0;
      display:flex;align-items:center;gap:10px;border-bottom:1px solid #e2e8f0;
      background:linear-gradient(90deg,#e0f2fe,#fff);
    }
    .section h2 .aslink{cursor:pointer;text-decoration:underline;text-decoration-color:#cfe3ff}
    .section.highlight h2{background:linear-gradient(90deg,#d1fae5,#a7f3d0)}
    .section::after{
      content:""; display:block; height:8px; background:
        linear-gradient(90deg, rgba(76,201,240,.25), rgba(255,209,102,.25), rgba(76,201,240,.25));
      border-top:1px solid #e2e8f0;
    }

    /* GRID ‚Äì nincs v√≠zszintes cs√∫szka, 4 k√°rtya / sor desktopon */
    .grid{display:flex; flex-wrap:wrap; gap:12px; padding:12px; overflow:visible}
    .grid .card{min-width:220px; flex:1 1 calc(25% - 12px); max-width:calc(25% - 12px)}
    @media (max-width:1024px){ .grid .card{flex-basis:calc(33.333% - 12px);max-width:calc(33.333% - 12px)} }
    @media (max-width:760px){ .grid .card{flex-basis:calc(50% - 12px);max-width:calc(50% - 12px)} }

    .card{
      scroll-snap-align:start; background:var(--card);
      border:1px solid var(--border);border-radius:14px;overflow:hidden;
      display:flex;flex-direction:column;position:relative;height:300px;
      transition:transform .2s, box-shadow .2s;
    }
    .card:hover{transform:translateY(-3px);box-shadow:0 12px 22px rgba(2,6,23,.18)}
    .thumb{height:130px;position:relative;background:#e8eef7;overflow:hidden}
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .body{padding:10px;flex-grow:1}
    .title{font-weight:800;margin-bottom:4px;font-size:14px;line-height:1.25}
    .desc{font-size:12px;color:#475569;margin-top:4px;line-height:1.3;max-height:3.1em;overflow:hidden}
    .muted{color:var(--muted);font-size:12px;display:flex;align-items:center;gap:6px;margin-top:6px}
    .price{font-weight:800;margin-top:6px;font-size:14px}
    .cta{margin-top:auto;padding:10px;text-align:center}
    .cta a{
      display:inline-block;background:linear-gradient(90deg,#4cc9f0,#ffd166);
      padding:8px 12px;border-radius:8px;color:#0b1220;font-weight:800;
    }

    .toolbar{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px 16px;background:#f1f5f9;border-bottom:1px solid #e2e8f0;border-radius:16px 16px 0 0}
    .toolbar .group{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .toolbtn, .toolsel{
      background:#fff;border:1px solid #e2e8f0;border-radius:10px;padding:8px 10px;font-weight:700;font-size:13px
    }

    .pager{display:flex;gap:8px;justify-content:center;align-items:center;padding:12px;flex-wrap:wrap}
    .pager button{border:1px solid #e2e8f0;background:#fff;border-radius:10px;padding:6px 10px;cursor:pointer}
    .pager .active{background:#0b3a6a;color:#fff;border-color:#0b3a6a}
    .pager .info{font-weight:700; color:#0b1220; padding:0 6px}

    footer{
      position:relative; z-index:2;
      text-align:center;padding:20px;
      background:#0b3a6a; color:#fff;margin-top:24px;font-size:14px;
      border-top:1px solid rgba(255,255,255,.15);
    }

    .snow{pointer-events:none;position:fixed;inset:0;overflow:hidden;z-index:1}
    .flake{position:absolute;top:-10px;width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,0.9);filter:blur(.5px);animation:fall linear infinite}
    @keyframes fall{0%{transform:translateY(-10px)}100%{transform:translateY(110vh)}}
    @media (max-width:640px){ .flake{ width:4px;height:4px } }
    @media (prefers-reduced-motion: reduce){ .flake{animation:none;display:none} }

    #toTop{
      position:fixed; right:12px; bottom:70px; z-index:60; display:none;
      background:#ffffff; color:#0b1220; border:1px solid #e2e8f0; border-radius:999px;
      padding:8px 12px; font-weight:800; box-shadow:0 8px 22px rgba(2,6,23,.22); cursor:pointer;
    }
    #toTop.show{display:block}
  </style>
</head>
<body>

  <div class="snow" aria-hidden="true"></div>

  <header class="hero">
    <span class="dev-badge">Folyamatos fejleszt√©s</span>
    <div class="hero-inner">
      <div class="brand">
        <img id="brandLogo" src="assets/img/findora-header.png"
             data-fallback1="assets/img/findora_mark.png"
             data-fallback2="https://upload.wikimedia.org/wikipedia/commons/3/3f/Compass_rose_simple.svg"
             alt="Findora log√≥" />
        <div>
          <h1>Findora</h1>
          <p>Ir√°nyt mutat a legjobb aj√°nlatokhoz</p>
        </div>
      </div>

      <div class="promo" role="note">üéÑ √únnepi hangulat, friss aj√°nlatokkal!</div>

      <nav class="categories" aria-label="Kateg√≥ri√°k">
        <button class="catbtn active" data-cat="all">√ñsszes</button>
        <button class="catbtn" data-cat="tech">üíª Tech</button>
        <button class="catbtn" data-cat="home">üè† Otthon</button>
        <button class="catbtn" data-cat="games">üïπÔ∏è J√°t√©kok</button>
        <button class="catbtn" data-cat="vision">üëì L√°t√°s</button>
        <button class="catbtn" data-cat="travel">‚úàÔ∏è Utaz√°s</button>
      </nav>

      <!-- k√ºl√∂n J√°t√©ksziget link NINCS ‚Äì a J√°t√©kok n√©zet t√∂lti be automatikusan -->
      <form id="searchForm" class="searchbar" role="search" action="">
        <input id="q" name="q" type="search" placeholder="√çrja be a keresett term√©ket‚Ä¶" aria-label="Keres√©s" />
        <button type="submit" aria-label="Keres√©s ind√≠t√°sa">Keres√©s</button>
      </form>
    </div>
  </header>

  <button class="floating-search" aria-label="Keres√©s megnyit√°sa" onclick="document.getElementById('q').focus()">üîç</button>
  <button id="toTop" onclick="window.scrollTo({top:0,behavior:'smooth'})">‚ñ≤</button>

  <main id="content"></main>

  <footer>
    ¬© 2025 Findora ‚Ä¢ Az oldalon affiliate linkek lehetnek. Partnerek: Amazon, J√°t√©kNet.hu, K√§rcher.hu, eOptika.hu, Tchibo.hu.
  </footer>

  <script>
  /* ====== Be√°ll√≠t√°s: 4 elem / oldal MINDEN t√°bl√°zatban ====== */
  const PER_PAGE = 4;

  /* ====== Linkek / partnerek ====== */
  const AMAZON_TAG = "findora30-20";
  const amazonBase = `https://www.amazon.com/?tag=${AMAZON_TAG}`;

  const ACTIVE_PARTNERS = ["Amazon","J√°t√©kNet.hu","K√§rcher.hu","eOptika.hu","Tchibo.hu"];

  const LINK_EOPTIKA = "https://www.kqzyfj.com/tf79mu2-u1HJIJNPRIIQHJMIMRRJK";
  const LINK_JATEKNET= "https://www.anrdoezrs.net/2t70r09608OQPQUWYPPXOQTTTXPQQ";
  const LINK_KARCHER  = "https://www.kqzyfj.com/pa117qgpmgo35459BD44C3587B77AD";

  const LOGO_URLS={
    Amazon:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg",
    "J√°t√©kNet.hu":"https://upload.wikimedia.org/wikipedia/commons/8/8f/Puzzle.svg",
    "K√§rcher.hu":"https://upload.wikimedia.org/wikipedia/commons/6/62/Karcher_logo.svg",
    "eOptika.hu":"https://upload.wikimedia.org/wikipedia/commons/7/72/Glasses_icon.svg",
    "Tchibo.hu":"https://www.tchibo.hu/medias/sys_master/root/h6f/h24/9016963760158.png"
  };

  (function(){
    const img=document.getElementById('brandLogo'); let step=0;
    img.onerror=()=>{ step++; if(step===1) img.src=img.dataset.fallback1; else if(step===2) img.src=img.dataset.fallback2; };
  })();

  const IMG_KEY={
    laptop:"https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=1200&q=80&auto=format&fit=crop",
    "gaming laptop":"https://images.unsplash.com/photo-1518779578993-ec3579fee39f?w=1200&q=80&auto=format&fit=crop",
    tv:"https://images.unsplash.com/photo-1512445239393-63e626ac6b86?w=1200&q=80&auto=format&fit=crop",
    "smart tv":"https://images.unsplash.com/photo-1527443154391-507e9dc6c5cc?w=1200&q=80&auto=format&fit=crop",
    okos√≥ra:"https://images.unsplash.com/photo-1517433456452-f9633a875f6f?w=1200&q=80&auto=format&fit=crop",
    f√ºlhallgat√≥:"https://images.unsplash.com/photo-1546435770-a3e426bf472b?w=1200&q=80&auto=format&fit=crop",
    lego:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=1200&q=80&auto=format&fit=crop",
    "t√°rsasj√°t√©k":"https://images.unsplash.com/photo-1542990253-a781e04c0083?w=1200&q=80&auto=format&fit=crop",
    "j√°t√©kkonzol":"https://images.unsplash.com/photo-1605901309584-818e25960a8b?w=1200&q=80&auto=format&fit=crop",
    "magasnyom√°s√∫ mos√≥":"https://images.unsplash.com/photo-1593955982181-b123dc5b5fba?w=1200&q=80&auto=format&fit=crop",
    g≈ëztiszt√≠t√≥:"https://images.unsplash.com/photo-1598514982516-4e64d96d86d4?w=1200&q=80&auto=format&fit=crop",
    porsz√≠v√≥:"https://images.unsplash.com/photo-1581578731548-c64695cc6952?w=1200&q=80&auto=format&fit=crop",
    szem√ºveg:"https://images.unsplash.com/photo-1512436991641-6745cdb1723f?w=1200&q=80&auto=format&fit=crop",
    "napszem√ºveg":"https://images.unsplash.com/photo-1511499767150-a48a237f0083?w=1200&q=80&auto=format&fit=crop",
    kontaktlencse:"https://images.unsplash.com/photo-1612198182713-6cfa7d3c1240?w=1200&q=80&auto=format&fit=crop"
  };
  const PLACEHOLDER = `data:image/svg+xml;utf8,`+
    encodeURIComponent(`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 600 400'>
      <defs><linearGradient id='g' x1='0' x2='1'><stop stop-color='#eee'/><stop offset='1' stop-color='#ddd'/></linearGradient></defs>
      <rect fill='url(#g)' width='600' height='400'/>
      <g fill='#999' font-family='Inter, Arial, Helvetica, sans-serif' font-size='22'>
        <text x='50%' y='50%' text-anchor='middle'>K√©p el≈ëk√©sz√≠t√©s alatt‚Ä¶</text>
      </g></svg>`);

  function keyImage(title){
    const t=title.toLowerCase();
    for(const k of Object.keys(IMG_KEY)){ if(t.includes(k)) return IMG_KEY[k]; }
    return PLACEHOLDER;
  }

  /* DEMO Amazon */
  const ITEMS=[
    {title:"Olcs√≥ laptop", partner:"Amazon", price:"129 990 Ft", discount:25, url:amazonBase, category:"tech",  desc:"Bel√©p≈ë modellek gyors sz√°ll√≠t√°ssal."},
    {title:"Gaming laptop", partner:"Amazon", price:"299 990 Ft", discount:35, url:amazonBase, category:"tech", desc:"RTX/AMD grafika, nagy k√©pfriss√≠t√©s."},
    {title:"Vezet√©k n√©lk√ºli f√ºlhallgat√≥", partner:"Amazon", price:"17 990 Ft", discount:28, url:amazonBase, category:"tech"},
    {title:"Smart TV -55%", partner:"Amazon", price:"119 990 Ft", discount:55, url:amazonBase, category:"tech"}
  ];

  const EOPTIKA_ITEMS = [
    {title:"Divatos szem√ºvegkeret", partner:"eOptika.hu", price:"", discount:0, url:LINK_EOPTIKA, category:"vision", desc:"Klasszikus form√°k, pr√©mium anyagok."},
    {title:"Polariz√°lt napszem√ºveg", partner:"eOptika.hu", price:"", discount:0, url:LINK_EOPTIKA, category:"vision", desc:"UV400 v√©delem, t√∂bb sz√≠nben."},
    {title:"Napi kontaktlencse csomag", partner:"eOptika.hu", price:"", discount:0, url:LINK_EOPTIKA, category:"vision", desc:"K√©nyelmes, higi√©nikus megold√°s."},
    {title:"K√©kf√©ny-sz≈±r≈ës szem√ºveg", partner:"eOptika.hu", price:"", discount:0, url:LINK_EOPTIKA, category:"vision", desc:"Sz√°m√≠t√≥g√©pez√©shez ide√°lis."}
  ];
  const JATEKNET_ITEMS = [
    {title:"LEGO kreat√≠v k√©szlet", partner:"J√°t√©kNet.hu", price:"", discount:0, url:LINK_JATEKNET, category:"games", desc:"√âp√≠tsd meg, amit csak elk√©pzelsz."},
    {title:"Csal√°di t√°rsasj√°t√©k", partner:"J√°t√©kNet.hu", price:"", discount:0, url:LINK_JATEKNET, category:"games", desc:"Garant√°lt k√∂z√∂s √©lm√©nyek."},
    {title:"J√°t√©kkonzol kontrollerek", partner:"J√°t√©kNet.hu", price:"", discount:0, url:LINK_JATEKNET, category:"games", desc:"Extra ir√°ny√≠t√≥k t√∂bbj√°t√©kos m√≥k√°hoz."},
    {title:"Kreat√≠v rajzk√©szlet", partner:"J√°t√©kNet.hu", price:"", discount:0, url:LINK_JATEKNET, category:"games", desc:"Fejleszti a fant√°zi√°t √©s √ºgyess√©get."}
  ];
  const KARCHER_ITEMS = [
    {title:"Magasnyom√°s√∫ mos√≥", partner:"K√§rcher.hu", price:"", discount:0, url:LINK_KARCHER, category:"home", desc:"Teraszok, aut√≥ gyors tiszt√≠t√°sa."},
    {title:"G≈ëztiszt√≠t√≥", partner:"K√§rcher.hu", price:"", discount:0, url:LINK_KARCHER, category:"home", desc:"Vegyszermentes, higi√©nikus tiszt√≠t√°s."},
    {title:"Porsz√≠v√≥ kieg√©sz√≠t≈ëk", partner:"K√§rcher.hu", price:"", discount:0, url:LINK_KARCHER, category:"home", desc:"Sz≈±r≈ëk, zs√°kok, tartoz√©kok."},
    {title:"Ablaktiszt√≠t√≥", partner:"K√§rcher.hu", price:"", discount:0, url:LINK_KARCHER, category:"home", desc:"Cs√≠kmentes, gyors ablaktiszt√≠t√°s."}
  ];

  /* Tchibo ‚Äì JSON-b√≥l j√∂n */
  let TCHIBO_ITEMS = [];    // {title, url, image, price}
  let TCHIBO_READY = false;

  async function loadTchibo(){
    try{
      const r = await fetch("tchibo.json", { cache:"no-store" });
      const all = await r.json();

      // Dognet-en bel√ºli eredeti URL kiszed√©se
      const extractDognetOriginal = (u) => {
        try{
          const t = new URL(u);
          if (t.hostname.includes("go.dognet.com")) {
            const inner = t.searchParams.get("url");
            if (inner) return decodeURIComponent(inner);
          }
        }catch(_){}
        return u;
      };

      const normPath = (u) => {
        try{
          const t = new URL(u);
          t.hash = ""; t.search = "";
          return (t.origin + t.pathname).replace(/\/$/,"");
        }catch(_){ return ""; }
      };
      const stemTitle = (s) => {
        const t = String(s||"").toLowerCase();
        return t
          .replace(/\b(xxs|xs|s|m|l|xl|xxl|xxxl)\b/g, "")
          .replace(/\b(eu|uk|us)\s?\d+\b/g, "")
          .replace(/m√©ret\s*[:\-]?\s*[^\s,)\]]+/g, "")
          .replace(/\(\s*(m√©ret|size)\s*[:\-]?[^\)]*\)/g, "")
          .replace(/\s{2,}/g," ")
          .trim();
      };
      const parsePrice = (p) => {
        if (p===undefined || p===null) return NaN;
        const n = Number(String(p).replace(/[^\d.,]/g,"").replace(",",".")); 
        return Number.isFinite(n) ? n : NaN;
      };

      const seen = new Map();
      for (const x of all){
        const orig = extractDognetOriginal(x.url||"");
        const baseKey = normPath(orig);
        const titleKey = stemTitle(x.title||"");
        const key = (baseKey || titleKey) + "|" + titleKey;

        const priceNum = parsePrice(x.price);
        const rec = {
          title: x.title || "",
          partner:"Tchibo.hu",
          priceRaw: x.price,
          price: !isNaN(priceNum) ? new Intl.NumberFormat('hu-HU').format(priceNum) + " Ft" : "",
          discount: 0,
          url: x.url,
          image: x.image || "",
          category:"home",
          desc: ""
        };

        if (seen.has(key)){
          const prev = seen.get(key);
          const prevNum = parsePrice(prev.priceRaw);
          if (!isNaN(priceNum) && (isNaN(prevNum) || priceNum < prevNum)){
            prev.priceRaw = rec.priceRaw;
            prev.price = rec.price;
            if (rec.image) prev.image = rec.image;
            if (rec.url) prev.url = rec.url;
          }
        } else {
          seen.set(key, rec);
        }
      }

      TCHIBO_ITEMS = [...seen.values()];
      TCHIBO_READY = true;
    }catch(e){
      console.warn("Tchibo bet√∂lt√©si hiba:", e);
      TCHIBO_ITEMS = [];
      TCHIBO_READY = true;
      const err = document.createElement('section');
      err.className = 'section';
      err.innerHTML = `<div style="padding:12px;border:1px solid #eee;border-radius:10px">A Tchibo k√≠n√°lat jelenleg nem t√∂lthet≈ë. Pr√≥b√°ld meg k√©s≈ëbb.</div>`;
      document.getElementById('content').appendChild(err);
    }
  }

  function cardHTML(it){
    const primary = (it.image) ? it.image : keyImage(it.title);
    const imgTag =
      `<img class="imgsafe" alt="${it.title}" loading="lazy" decoding="async" referrerpolicy="no-referrer"
            data-src1="${primary}" data-src2="${PLACEHOLDER}" data-src3="${PLACEHOLDER}" />`;
    const logo=LOGO_URLS[it.partner]?`<img src="${LOGO_URLS[it.partner]}" alt="${it.partner} log√≥" style="width:16px;height:16px;object-fit:contain">`:"";
    const desc=it.desc?`<div class="desc">${it.desc}</div>`:"";
    return `<div class="card">
      <div class="thumb">${imgTag}</div>
      <div class="body">
        <div class="title">${it.title}</div>
        ${desc}
        <div class="muted">${logo} ${it.partner}</div>
        <div class="price">${it.price||""}</div>
      </div>
      <div class="cta"><a href="${it.url}" target="_blank" rel="nofollow sponsored noopener">Megn√©zem az aj√°nlatot</a></div>
    </div>`;
  }

  function hydrateSafeImages(ctx=document){
    ctx.querySelectorAll("img.imgsafe").forEach(img=>{
      const chain=[img.dataset.src1, img.dataset.src2, img.dataset.src3].filter(Boolean);
      let i=0; const set = () => { img.src = chain[i]; };
      img.onerror = () => { i = Math.min(i+1, chain.length-1); if (img.src !== chain[i]) set(); };
      set();
    });
  }

  const content=document.getElementById('content');

  /* ---------- LAPOZ√ì (r√∂vid√≠tett: 1 2 3 4 ‚Ä¶ N, valamint k√∂z√©pen ‚Ä¶ P-1 P P+1 ‚Ä¶) ---------- */
  function pagerHTML(total, page, per){
    const pages = Math.max(1, Math.ceil(total / per));
    let html = `<div class="pager">`;
    const mkBtn = (p, lbl, active=false, disabled=false) =>
      `<button data-page="${p}" ${disabled?'disabled':''} class="${active?'active':''}">${lbl}</button>`;
    const mkDots = () => `<span class="info">‚Ä¶</span>`;

    html += mkBtn(Math.max(1,page-1), "¬´", false, page<=1);

    if (pages <= 7){
      for (let i=1;i<=pages;i++) html += mkBtn(i, i, i===page);
    } else {
      if (page <= 4){
        for (let i=1;i<=4;i++) html += mkBtn(i, i, i===page);
        html += mkDots();
        html += mkBtn(pages, pages, page===pages);
      } else if (page >= pages-3){
        html += mkBtn(1, 1, page===1);
        html += mkDots();
        for (let i=pages-3;i<=pages;i++) html += mkBtn(i, i, i===page);
      } else {
        html += mkBtn(1, 1, false);
        html += mkDots();
        html += mkBtn(page-1, page-1, false);
        html += mkBtn(page, page, true);
        html += mkBtn(page+1, page+1, false);
        html += mkDots();
        html += mkBtn(pages, pages, false);
      }
    }

    html += mkBtn(Math.min(pages,page+1), "¬ª", false, page>=pages);
    html += `</div>`;
    return html;
  }

  /* ---------- T√ÅBL√ÅZAT: Rendez√©s + 4-es lapoz√°s ---------- */
  function renderPartnerTable(title, items, opts={}){
    if(!items || !items.length) return;
    const clickable = opts.clickTo || null;
    const sec=document.createElement('section');
    sec.className='section partner';
    const titleHTML = clickable ? `<h2 data-open="${clickable.type}">${title}</h2>` : `<h2>${title}</h2>`;
    sec.innerHTML=`${titleHTML}
      <div class="toolbar">
        <div class="group">
          <label>Rendez√©s:</label>
          <select class="toolsel sortsel">
            <option value="relevance">Relevancia</option>
            <option value="price_asc">√År ‚Üë</option>
            <option value="price_desc">√År ‚Üì</option>
            <option value="az">A ‚Üí Z</option>
            <option value="za">Z ‚Üí A</option>
          </select>
        </div>
      </div>
      <div class="grid"></div>
      <div class="pager"></div>`;
    const grid=sec.querySelector('.grid');
    let page = 1;
    let sort = "relevance";

    function priceNum(p){ if(!p)return NaN; return Number(String(p).replace(/[^\d.]/g,"")); }
    function sortedArr(){
      let arr=[...items];
      if(sort==="price_asc") arr.sort((a,b)=>priceNum(a.price)-priceNum(b.price));
      if(sort==="price_desc") arr.sort((a,b)=>b.price-a.price);
      if(sort==="az") arr.sort((a,b)=>(a.title||"").localeCompare(b.title||"","hu"));
      if(sort==="za") arr.sort((a,b)=>(b.title||"").localeCompare(a.title||"","hu"));
      return arr;
    }
    function apply(){
      const arr = sortedArr();
      const pages = Math.max(1, Math.ceil(arr.length/PER_PAGE));
      page = Math.min(Math.max(1,page), pages);
      const st=(page-1)*PER_PAGE, sl=arr.slice(st, st+PER_PAGE);
      grid.innerHTML="";
      sl.forEach(it=>grid.insertAdjacentHTML('beforeend', cardHTML(it)));
      hydrateSafeImages(sec);
      sec.querySelector('.pager').innerHTML = pagerHTML(arr.length, page, PER_PAGE);
    }

    sec.addEventListener('change', (e)=>{
      if(e.target.matches('.sortsel')){ sort=e.target.value; apply(); }
    });
    sec.addEventListener('click', (e)=>{
      const openH2 = e.target.closest('h2[data-open]');
      if(openH2 && openH2.dataset.open==='tchibo'){ showTchiboPage(1); }
      const b = e.target.closest('.pager button');
      if(b){ page = Number(b.dataset.page)||1; apply(); }
    });

    apply();
    content.appendChild(sec);
  }

  /* ---------- Egyszer≈± szekci√≥ (pl. Top aj√°nlatok, kedvezm√©ny-bucketek) ---------- */
  function renderSection(title, items, extraClass="", id=""){
    if(!items.length)return;
    const s=document.createElement('section');
    s.className=`section ${extraClass}`.trim();
    if(id)s.id=id;
    s.innerHTML=`<h2>${title}</h2><div class="grid"></div><div class="pager"></div>`;
    const g=s.querySelector('.grid');
    let page=1;

    function apply(){
      const pages = Math.max(1, Math.ceil(items.length/PER_PAGE));
      page = Math.min(Math.max(1,page), pages);
      const st=(page-1)*PER_PAGE, sl=items.slice(st, st+PER_PAGE);
      g.innerHTML="";
      sl.forEach(it=>g.insertAdjacentHTML('beforeend', cardHTML(it)));
      hydrateSafeImages(s);
      s.querySelector('.pager').innerHTML = pagerHTML(items.length, page, PER_PAGE);
    }
    s.addEventListener('click',(e)=>{
      const b = e.target.closest('.pager button');
      if(b){ page = Number(b.dataset.page)||1; apply(); }
    });

    apply();
    content.appendChild(s);
  }

  function renderTopDeals(){
    const top=[...ITEMS].sort((a,b)=>b.discount-a.discount);
    renderSection("üèÜ A h√©t legjobb aj√°nlatai", top, "highlight", "topdeals");
  }

  /* --- Kedvezm√©ny szekci√≥k a f≈ëoldalon --- */
  function computeDiscount(it){
    if (typeof it.discount === 'number' && it.discount>0) return it.discount;
    const m = (it.title||"").match(/-?\s*(\d{1,3})\s*%/);
    if (m) {
      const d=parseInt(m[1],10);
      return Number.isFinite(d)?d:0;
    }
    return 0;
  }
  function renderDiscountBuckets(allItems){
    const b2549=[], b50=[];
    for(const it of allItems){
      const d = computeDiscount(it);
      if (d>=25 && d<=49) b2549.push(it);
      if (d>=50) b50.push(it);
    }
    if (b2549.length) renderSection("üìâ -25% ‚Äì -49%", b2549);
    if (b50.length)   renderSection("üî• -50% √©s t√∂bb", b50);
  }

  /* ---------- Tchibo TELJES n√©zet ---------- */
  function renderTchiboFull(title, items, page=1){
    const sec=document.createElement('section');
    sec.className='section partner';
    sec.innerHTML=`
      <h2>${title}</h2>
      <div class="toolbar">
        <div class="group">
          <button class="toolbtn" id="btnHome">üè† F≈ëoldal</button>
          <button class="toolbtn" id="btnBackHome">‚Üê Vissza az Otthonhoz</button>
        </div>
        <div class="group">
          <label>Rendez√©s:</label>
          <select class="toolsel sortsel">
            <option value="relevance">Relevancia</option>
            <option value="price_asc">√År ‚Üë</option>
            <option value="price_desc">√År ‚Üì</option>
            <option value="az">A ‚Üí Z</option>
            <option value="za">Z ‚Üí A</option>
          </select>
        </div>
      </div>
      <div class="grid"></div>
      <div class="pager"></div>
    `;
    const grid=sec.querySelector('.grid');
    let currentSort="relevance";
    let pageState=page;

    function priceNum(p){ if(!p)return NaN; return Number(String(p).replace(/[^\d.]/g,"")); }
    function sorted(){
      let arr=[...items];
      if(currentSort==="price_asc") arr.sort((a,b)=>priceNum(a.price)-priceNum(b.price));
      if(currentSort==="price_desc") arr.sort((a,b)=>b.price-a.price);
      if(currentSort==="az") arr.sort((a,b)=>(a.title||"").localeCompare(b.title||"","hu"));
      if(currentSort==="za") arr.sort((a,b)=>(b.title||"").localeCompare(a.title||"","hu"));
      return arr;
    }
    function apply(){
      const arr = sorted();
      const pages = Math.max(1, Math.ceil(arr.length / PER_PAGE));
      pageState = Math.min(Math.max(1,pageState), pages);
      const st=(pageState-1)*PER_PAGE;
      const sl=arr.slice(st, st+PER_PAGE);

      grid.innerHTML="";
      sl.forEach(it=>grid.insertAdjacentHTML('beforeend', cardHTML(it)));
      hydrateSafeImages(sec);

      sec.querySelector('.pager').innerHTML = pagerHTML(arr.length, pageState, PER_PAGE);
    }

    sec.addEventListener('change', (e)=>{
      if(e.target.matches('.sortsel')){ currentSort=e.target.value; apply(); }
    });
    sec.addEventListener('click', (e)=>{
      const b = e.target.closest('.pager button');
      if(b){
        const np = Number(b.dataset.page)||1;
        pageState = np; apply();
      }
      if(e.target.id==='btnHome'){ showCategory("all"); }
      if(e.target.id==='btnBackHome'){ showCategory("home"); }
    });

    apply();
    content.appendChild(sec);
  }

  async function renderAll(){
    content.innerHTML="";
    renderTopDeals();

    if(!TCHIBO_READY) await loadTchibo();

    const ALL_FOR_BUCKETS = [
      ...ITEMS,
      ...KARCHER_ITEMS,
      ...EOPTIKA_ITEMS,
      ...JATEKNET_ITEMS,
      ...TCHIBO_ITEMS
    ];
    renderDiscountBuckets(ALL_FOR_BUCKETS);

    renderPartnerTable("üõí Amazon ‚Äì v√°logat√°s", ITEMS);
    renderPartnerTable("üè† K√§rcher.hu ‚Äì Otthon", KARCHER_ITEMS);

    if(TCHIBO_ITEMS.length){
      renderPartnerTable("üõçÔ∏è Tchibo.hu ‚Äì Otthon", TCHIBO_ITEMS, {clickTo:{type:'tchibo'}});
    }

    renderPartnerTable("üëì eOptika.hu ‚Äì L√°t√°s", EOPTIKA_ITEMS);
    renderPartnerTable("üïπÔ∏è J√°t√©kNet.hu ‚Äì J√°t√©kok", JATEKNET_ITEMS);
  }

  async function showTchiboPage(page=1){
    if(!TCHIBO_READY) await loadTchibo();
    content.innerHTML="";
    renderTchiboFull("üõçÔ∏è Tchibo.hu ‚Äì Teljes k√≠n√°lat", TCHIBO_ITEMS, page);
    window.scrollTo({top:0, behavior:'smooth'});
  }

  /* ---------- Kateg√≥ria v√°lt√°s ---------- */
  async function showCategory(cat){
    document.querySelectorAll(".catbtn").forEach(b=>{
      b.classList.toggle("active", b.dataset.cat===cat || (cat==="all" && b.dataset.cat==="all"));
    });
    content.innerHTML="";
    if(cat==="all"){ await renderAll(); return; }

    if(cat==="tech"){
      renderPartnerTable("üíª Amazon ‚Äì Tech", ITEMS.filter(i=>i.category==="tech" && i.partner==="Amazon"));
      return;
    }
    if(cat==="games"){
      // 1) J√°t√©kNet t√°bla
      renderPartnerTable("üïπÔ∏è J√°t√©kNet.hu ‚Äì J√°t√©kok", JATEKNET_ITEMS);

      // 2) J√°t√©ksziget blokk a J√°t√©kok oldalon bel√ºl
      const host = document.createElement('section');
      host.className = 'section';
      host.innerHTML = `
        <h2>üß© J√°t√©ksziget ‚Äì Aj√°nlatok</h2>
        <div id="games_jateksziget"></div>
      `;
      content.appendChild(host);

      // 3) Lazy-load modul √©s render ide
      try{
        const { init } = await import('./partners/jateksziget.js');
        await init({
          container: '#games_jateksziget',
          dt: '70plBVdT', // ‚Üê a te Dognet dt tokened
          feed: 'https://dl.product-service.dognet.sk/fp/jateksziget.hu-arukereso.xml',
          utm: '',        // pl.: '&utm_source=findora&utm_medium=affiliate&utm_campaign=jateksziget'
          title: 'J√°t√©ksziget ‚Äì Aj√°nlatok'
        });
      }catch(err){
        const errBox = document.createElement('div');
        errBox.style = "padding:12px;border:1px solid #eee;border-radius:10px;margin:12px";
        errBox.textContent = "Hopp√°, nem siker√ºlt bet√∂lteni a J√°t√©ksziget modult. Ellen≈ërizd: partners/jateksziget.js";
        host.appendChild(errBox);
        console.error(err);
      }
      return;
    }
    if(cat==="vision"){
      renderPartnerTable("üëì eOptika.hu ‚Äì L√°t√°s", EOPTIKA_ITEMS);
      return;
    }
    if(cat==="travel"){
      const s=document.createElement('section'); s.className='section';
      s.innerHTML=`<h2>‚úàÔ∏è Utaz√°s</h2><div style="padding:12px">Hamarosan...</div>`;
      content.appendChild(s); return;
    }
    if(cat==="home"){
      renderPartnerTable("üè† K√§rcher.hu ‚Äì Otthon", KARCHER_ITEMS);
      if(!TCHIBO_READY) await loadTchibo();
      renderPartnerTable("üõçÔ∏è Tchibo.hu ‚Äì Otthon", TCHIBO_ITEMS, {clickTo:{type:'tchibo'}});
      return;
    }
  }
  document.querySelectorAll(".catbtn").forEach(btn=>btn.addEventListener("click",()=>showCategory(btn.dataset.cat)));

  async function showSearch(val){
    const v=val.toLowerCase();
    content.innerHTML=`
      <section class="section">
        <div class="toolbar">
          <div class="group">
            <button class="toolbtn" id="btnBack">‚Üê Vissza</button>
            <strong>Keres√©s: ‚Äû${val}‚Äù</strong>
          </div>
          <div class="group">
            <button class="toolbtn" id="btnHome">üè† F≈ëoldal</button>
          </div>
        </div>
      </section>`;
    document.getElementById('btnBack').onclick=()=>showCategory("all");
    document.getElementById('btnHome').onclick=()=>showCategory("all");

    const amazon = ITEMS.filter(i=>i.title.toLowerCase().includes(v));
    const jatek  = JATEKNET_ITEMS.filter(i=>i.title.toLowerCase().includes(v));
    const karch  = KARCHER_ITEMS.filter(i=>i.title.toLowerCase().includes(v));
    const eopt   = EOPTIKA_ITEMS.filter(i=>i.title.toLowerCase().includes(v));

    if(!TCHIBO_READY) await loadTchibo();
    const tchibo = TCHIBO_ITEMS.filter(i=>i.title.toLowerCase().includes(v));

    if(amazon.length) renderPartnerTable(`Amazon ‚Äì tal√°latok ‚Äû${val}‚Äù`, amazon);
    if(jatek.length)  renderPartnerTable(`J√°t√©kNet.hu ‚Äì tal√°latok ‚Äû${val}‚Äù`, jatek);
    if(karch.length)  renderPartnerTable(`K√§rcher.hu ‚Äì tal√°latok ‚Äû${val}‚Äù`, karch);
    if(eopt.length)   renderPartnerTable(`eOptika.hu ‚Äì tal√°latok ‚Äû${val}‚Äù`, eopt);
    if(tchibo.length) renderPartnerTable(`Tchibo.hu ‚Äì tal√°latok ‚Äû${val}‚Äù`, tchibo, {clickTo:{type:'tchibo'}});

    if(!amazon.length && !jatek.length && !karch.length && !eopt.length && !tchibo.length){
      const s=document.createElement('section');
      s.className='section';
      s.innerHTML=`<h2>Nincs tal√°lat</h2><div class="grid"></div>`;
      content.appendChild(s);
    }
  }

  document.getElementById('searchForm').addEventListener('submit',e=>{
    e.preventDefault();
    const val=document.getElementById('q').value.trim();
    if(val) showSearch(val); else showCategory("all");
  });

  (async function init(){
    const urlQ=new URLSearchParams(location.search).get('q');
    if(urlQ){ document.getElementById('q').value=urlQ; await showSearch(urlQ); }
    else { await showCategory("all"); }
  })();

  (function snow(){
    const wrap=document.querySelector('.snow');
    const isMobile = matchMedia('(max-width: 640px)').matches;
    const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
    const COUNT = prefersReduced ? 0 : (isMobile ? 14 : 28);
    for(let i=0;i<COUNT;i++){
      const f=document.createElement('div');
      f.className='flake';
      f.style.left = Math.random()*100 + 'vw';
      const dur = (isMobile ? 10 : 8) + Math.random()*10;
      f.style.animationDuration = dur + 's';
      f.style.animationDelay = (Math.random()*-dur) + 's';
      f.style.opacity = (0.45 + Math.random()*0.35).toFixed(2);
      const size = (isMobile ? 1.5 : 2) + Math.random()*4;
      f.style.width = f.style.height = size + 'px';
      wrap.appendChild(f);
    }
  })();

  (function(){
    const btn = document.getElementById('toTop');
    window.addEventListener('scroll', ()=>{
      if (window.scrollY > 600) btn.classList.add('show'); else btn.classList.remove('show');
    });
  })();
  </script>
</body>
</html>
