<!DOCTYPE html><html lang="hu"><head>
<meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>J√°t√©ksziget LEGO ‚Äì City, Technic, Friends, DUPLO | Findora</title>
<meta name="description" content="J√°t√©ksziget LEGO: City, Technic, Friends, DUPLO, Star Wars, Creator ‚Äì friss √°rak √©s akci√≥k.">
<link rel="canonical" href="https://www.findora.hu/jateksziget-lego.html"/>
<link rel="icon" href="assets/img/findora_mark.png"/><link rel="stylesheet" href="assets/css/style.css"/>
<style>
.wrap{max-width:1200px;margin:0 auto;padding:16px}
.top{display:flex;gap:16px;justify-content:space-between;flex-wrap:wrap}
.menu{display:flex;gap:14px;flex-wrap:wrap}
.menu a,.back{color:#1a73e8;text-decoration:none;font-weight:600}
.menu a:hover,.back:hover{text-decoration:underline}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:16px}
.card{background:#fff;border-radius:14px;padding:12px;box-shadow:0 4px 16px rgba(0,0,0,.06);display:flex;flex-direction:column}
.thumb{height:180px;display:flex;align-items:center;justify-content:center;margin-bottom:8px}
.thumb img{max-height:100%;max-width:100%;object-fit:contain}
.title{font-weight:600;margin-bottom:6px}
.price{font-weight:700;margin-top:auto}
.cta a{display:inline-block;margin-top:10px;padding:10px 14px;border-radius:12px;background:#1a73e8;color:#fff;text-decoration:none}
.muted{color:#64748b;font-size:.9rem}
.toolbar{display:flex;gap:10px;align-items:center;flex-wrap:wrap;margin:10px 0 18px}
.pill{padding:6px 10px;border:1px solid #e2e8f0;border-radius:999px;background:#fff}
.pager{display:flex;gap:8px;justify-content:center;margin:22px 0}
.pager button{padding:8px 12px;border-radius:10px;border:1px solid #e2e8f0;background:#fff;cursor:pointer}
.floating{position:fixed;right:16px;bottom:16px;background:#1a73e8;color:#fff;border-radius:999px;padding:10px 14px;text-decoration:none;box-shadow:0 10px 24px rgba(0,0,0,.18)}
footer{margin:28px 0 10px}.legal{color:#6b7280;font-size:.85rem}
</style>
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"CollectionPage","name":"J√°t√©ksziget LEGO ‚Äì City, Technic, Friends, DUPLO","breadcrumb":{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Findora","item":"https://www.findora.hu/"},{"@type":"ListItem","position":2,"name":"J√°t√©ksziget LEGO","item":"https://www.findora.hu/jateksziget-lego.html"}]}}
</script>
</head><body>
<div class="wrap">
  <div class="top">
    <nav class="menu" aria-label="F≈ë navig√°ci√≥">
      <a href="https://www.findora.hu/">üè† F≈ëoldal</a>
      <a href="https://www.findora.hu/#otthon">Otthon</a>
      <a href="https://www.findora.hu/#sport">Sport</a>
      <a href="https://www.findora.hu/#jatekok">J√°t√©kok</a>
      <a href="https://www.findora.hu/#tech">Tech</a>
      <a href="https://www.findora.hu/#akciok">Akci√≥k</a>
    </nav>
    <a class="back" href="https://www.findora.hu">‚Üê Vissza a f≈ëoldalra</a>
  </div>

  <h1>J√°t√©ksziget LEGO</h1>
  <div class="muted">LEGO City, Technic, Friends, DUPLO, Star Wars √©s Creator ‚Äì √°rak 2 √≥r√°nk√©nt friss√ºlnek.</div>

  <div class="toolbar" role="region" aria-label="Sz≈±r≈ëk √©s rendez√©s">
    <label class="pill"><input id="onlyDiscount" type="checkbox"/> Csak akci√≥s</label>
    <label class="pill">Min. kedvezm√©ny:
      <input id="minDisc" type="number" min="0" max="90" step="5" value="0" style="width:70px"/>%
    </label>
    <label class="pill">T√©ma:
      <select id="category">
        <option value="osszes">√ñsszes</option>
        <option value="city">City</option>
        <option value="technic">Technic</option>
        <option value="friends">Friends</option>
        <option value="duplo">DUPLO</option>
        <option value="starwars">Star Wars</option>
        <option value="creator">Creator</option>
      </select>
    </label>
    <label class="pill">Rendez√©s:
      <select id="sortBy">
        <option value="price-asc">√År: alacsony‚Üímagas</option>
        <option value="price-desc">√År: magas‚Üíalacsony</option>
      </select>
    </label>
  </div>

  <div id="grid" class="grid" aria-live="polite"></div>
  <div class="pager">
    <button id="prevBtn" disabled>El≈ëz≈ë</button>
    <span id="pageInfo" class="muted">1. oldal</span>
    <button id="nextBtn">K√∂vetkez≈ë</button>
  </div>

  <footer>
    <p><a class="back" href="https://www.findora.hu">‚Üê Vissza a f≈ëoldalra</a></p>
    <p class="legal">A Findora.hu affiliate linkeket tartalmaz.</p>
  </footer>
</div>

<a class="floating" href="https://www.findora.hu" aria-label="Vissza a f≈ëoldalra">‚Üê F≈ëoldal</a>

<script>
const FEED_BASE='/feeds/jateksziget',MAX_PAGES_TO_SCAN=1000,PAGE_SIZE=20;let currentPage=1,feedPage=1;
const grid=document.getElementById('grid'),pageInfo=document.getElementById('pageInfo'),prevBtn=document.getElementById('prevBtn'),nextBtn=document.getElementById('nextBtn'),
onlyDiscountEl=document.getElementById('onlyDiscount'),minDiscEl=document.getElementById('minDisc'),sortByEl=document.getElementById('sortBy'),categoryEl=document.getElementById('category');

const KW=['lego','city','technic','friends','duplo','star wars','creator'];
const CAT={city:['city'],technic:['technic'],friends:['friends'],duplo:['duplo'],starwars:['star wars','starwars'],creator:['creator']};
const low=s=>(s||'').toLocaleLowerCase('hu-HU');
const isLego=p=>{const h=`${low(p.title)} ${low(p.category||'')} ${(p.tags||[]).map(low).join(' ')}`;return KW.some(k=>h.includes(k));}
function matchCat(p,k){if(k==='osszes')return true;const h=`${low(p.title)} ${low(p.category||'')} ${(p.tags||[]).map(low).join(' ')}`;return (CAT[k]||[]).some(x=>h.includes(x));}
const dl=u=>`/api/dl?u=${encodeURIComponent(u)}&p=jateksziget`;
const pNum=p=>{if(p==null||p==='')return NaN;const n=String(p).replace(/[^\d.]/g,'');return n?Number(n):NaN}
const pFmt=p=>{const n=pNum(p);return isNaN(n)?'':new Intl.NumberFormat('hu-HU').format(n)+' Ft'}
const card=it=>`<div class="card"><div class="thumb"><img loading="lazy" src="${it.image||it.img||it.imageUrl||''}" alt="${(it.title||'Term√©k').replace(/"/g,'&quot;')}"/></div><div class="title">${it.title||'Term√©k'}</div><div class="muted">${it.partner||'J√°t√©ksziget'}${it.discount?` ‚Ä¢ ‚àí${it.discount}%`:''}</div><div class="price">${pFmt(it.price||it.price_huf||it.final_price||'')}</div><div class="cta"><a href="${dl(it.url||it.link||'')}" target="_blank" rel="nofollow sponsored noopener noreferrer">Megn√©zem</a></div></div>`;

async function getPage(n){const r=await fetch(`${FEED_BASE}/page-${String(n).padStart(4,'0')}.json`,{cache:'no-store'});if(!r.ok)return null;try{return await r.json()}catch{return null}}
async function render(dir){
  grid.innerHTML='';let c=[],sc=0;if(dir<0)feedPage=Math.max(1,feedPage-2);
  while(c.length<PAGE_SIZE&&sc<MAX_PAGES_TO_SCAN){
    const d=await getPage(feedPage);sc++;feedPage++;if(!d)break;
    let items=Array.isArray(d.items)?d.items:[];items=items.filter(isLego).filter(x=>matchCat(x,categoryEl.value));
    const od=onlyDiscountEl.checked,md=parseInt(minDiscEl.value||'0',10);
    if(od||md>0)items=items.filter(x=>{const dd=Number(x.discount||x.sale_percent||x.salePercent||0);return (od?dd>0:true)&&dd>=md});
    c.push(...items);if(!d.nextPage)break;
  }
  c.sort((a,b)=>{const pa=pNum(a.price||a.price_huf||a.final_price||''),pb=pNum(b.price||b.price_huf||b.final_price||'');if(isNaN(pa)&&isNaN(pb))return 0;if(isNaN(pa))return 1;if(isNaN(pb))return -1;return sortByEl.value==='price-asc'?pa-pb:pb-pa});
  const s=c.slice(0,PAGE_SIZE);
  grid.innerHTML=s.map(card).join('')||'<div class="muted">Nincs tal√°lat.</div>';
  pageInfo.textContent=`${currentPage}. oldal ‚Ä¢ ${s.length} t√©tel ‚Ä¢ beolvasva: ${sc}`;
  prevBtn.disabled=currentPage<=1;
}
nextBtn.addEventListener('click',()=>{currentPage++;render(+1)});
prevBtn.addEventListener('click',()=>{if(currentPage>1){currentPage--;render(-1)}});
[onlyDiscountEl,minDiscEl,sortByEl,categoryEl].forEach(el=>{
  el.addEventListener('change',()=>{currentPage=1;feedPage=1;render(0)});
  el.addEventListener('input', ()=>{currentPage=1;feedPage=1;render(0)});
});
render(0);
</script>
</body></html>
